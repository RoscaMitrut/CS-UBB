     1                                  bits 32
     2                                  global start
     3                                  
     4                                  extern exit,printf,scanf,fprintf,fopen,fclose
     5                                  
     6                                  import exit msvcrt.dll
     7                                  import printf msvcrt.dll
     8                                  import scanf msvcrt.dll
     9                                  import fprintf msvcrt.dll
    10                                  import fopen msvcrt.dll
    11                                  import fclose msvcrt.dll
    12                                  
    13                                  segment data use32 class=data
    14 00000000 00000000                	n dd 0
    15 00000004 4461746920756E206E-     	mesaj db "Dati un numar: ",0
    15 0000000D 756D61723A2000     
    16                                      
    17 00000014 00000000<rept>          	nr times 100 dd 0
    18 000001A4 256400                  	format db "%d",0
    19 000001A7 257800                      format_afisare db "%x",0
    20                                      
    21 000001AA 6D696E2E74787400            nume_fisier db "min.txt",0
    22 000001B2 7700                        mod_acces db 'w',0
    23 000001B4 00000000                    descriptor_fisier dd 0
    24                                      
    25                                  ; Cititi de la tastatura si afisati o propozitie
    26                                  ; (mai multe siruri de caractere separate prin SPATII si care se termina cu caracterul '.')
    27                                  segment code use32 class=code
    28                                      start:
    29 00000000 FC                             	cld
    30 00000001 BF[14000000]                   	mov edi,nr
    31                                          
    32                                          citire:
    33 00000006 68[04000000]                    	push dword mesaj
    34 0000000B FF15[00000000]                  	call [printf]
    35 00000011 83C404                          	add esp,1*4
    36                                          	;afisam mesajul
    37 00000014 68[00000000]                    	push dword n
    38 00000019 68[A4010000]                    	push format
    39 0000001E FF15[00000000]                  	call [scanf]
    40 00000024 83C408                          	add esp,2*4
    41                                          	;citim numarul
    42 00000027 A1[00000000]                    	mov eax,[n]
    43 0000002C 83F800                          	cmp eax,0
    44 0000002F 7403                            	je _out
    45 00000031 AB                              	stosd
    46 00000032 EBD2                            jmp citire
    47                                          
    48                                         	_out:
    49 00000034 B963000000                     		mov ecx,99
    50 00000039 FC                             		cld
    51 0000003A BE[14000000]                   		mov esi,nr
    52                                              
    53 0000003F 51                                  push ecx
    54 00000040 AD                                  lodsd
    55 00000041 89C3                                mov ebx,eax
    56 00000043 83F800                              cmp eax,0
    57 00000046 59                                  pop ecx
    58 00000047 7410                                je final
    59                                  
    60                                              
    61                                         	compare:
    62 00000049 51                             		push ecx
    63                                              
    64 0000004A AD                             		lodsd
    65 0000004B 83F800                         		cmp eax,0
    66 0000004E 7409                           		je final
    67                                              
    68 00000050 39C3                                cmp ebx,eax
    69 00000052 59                                  pop ecx
    70 00000053 7202                                jb gata
    71 00000055 89C3                                mov ebx,eax
    72                                          gata:
    73 00000057 E2F0                           	loop compare
    74                                          
    75                                          
    76                                         	final:
    77 00000059 53                              	push dword ebx
    78 0000005A 68[A7010000]                        push dword format_afisare
    79 0000005F FF15[00000000]                  	call [printf]
    80 00000065 83C404                          	add esp,1*4
    81                                  
    82                                          eroare:
    83 00000068 6A00                            push dword 0        
    84 0000006A FF15[00000000]                  call [exit]
